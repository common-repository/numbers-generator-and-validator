"use strict";const d=document,id_name="ngv-validation-response-wrapper";// add the text node to the newly created div
function ngvInsertResponse(a){document.getElementById(id_name).innerHTML="<div id=\"validator-response\" style=\"background-color:#3c3c3c;padding:10px;margin-top:10px;display:inline-block;border-radius:2px;color:#fff;\">"+a+"</div>"}function ngvFetchResponse(a){a.preventDefault();const b=a.srcElement.querySelector("#ngv-validator-input").value;if(!b)return null;const c=document.getElementById(id_name);c&&c.remove();const d=document.querySelector(".ngv-call-validator"),e=d.value,f=document.createElement("div");f.setAttribute("id",id_name),a.srcElement.parentNode.append(f),ngvInsertResponse("Validating..."),fetch(ngv_settings.api_url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then(a=>a.json()).then(a=>{d.value=e,ngvInsertResponse(a)}).catch(a=>{d.value=e,console.error("Error:",a)})}window.onload=function(){try{if(!ngv_settings)return null}catch(a){return null}if(ngv_settings.use_fetch&&"true"===ngv_settings.use_fetch){const a=d.querySelector("#ngv-validation-form");a.addEventListener("submit",ngvFetchResponse)}};